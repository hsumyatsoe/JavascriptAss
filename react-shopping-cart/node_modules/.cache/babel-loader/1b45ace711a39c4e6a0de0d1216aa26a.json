{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { GET_ALL_PRODUCT, GET_SIGEL_PRODUCT, GET_NUMBER_CART, ADD_CART, DECREASE_QUANTITY, INCREASE_QUANTITY, DELETE_CART } from '../actions';\nconst initProduct = {\n  numberCart: 0,\n  Carts: [],\n  products: []\n};\n\nfunction todoProduct() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initProduct;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_ALL_PRODUCT:\n      return { ...state,\n        products: action.payload\n      };\n\n    case GET_SIGEL_PRODUCT:\n      return { ...state,\n        products: action.payload\n      };\n\n    case GET_NUMBER_CART:\n      return { ...state\n      };\n\n    case ADD_CART:\n      if (state.numberCart == 0) {\n        let cart = {\n          id: action.payload.id,\n          quantity: 1,\n          name: action.payload.title,\n          image: action.payload.image,\n          price: action.payload.price\n        };\n        state.Carts.push(cart);\n      } else {\n        let check = false;\n        state.Carts.map((item, key) => {\n          if (item.id == action.payload.id) {\n            state.Carts[key].quantity++;\n            check = true;\n          }\n        });\n\n        if (!check) {\n          let _cart = {\n            id: action.payload.id,\n            quantity: 1,\n            name: action.payload.title,\n            image: action.payload.image,\n            price: action.payload.price\n          };\n          state.Carts.push(_cart);\n        }\n      }\n\n      return { ...state,\n        numberCart: state.numberCart + 1\n      };\n\n    case INCREASE_QUANTITY:\n      state.numberCart++;\n      state.Carts[action.payload].quantity++;\n      return { ...state\n      };\n\n    case DECREASE_QUANTITY:\n      let quantity = state.Carts[action.payload].quantity;\n\n      if (quantity > 1) {\n        state.numberCart--;\n        state.Carts[action.payload].quantity--;\n      }\n\n      return { ...state\n      };\n\n    case DELETE_CART:\n      let quantity_ = state.Carts[action.payload].quantity;\n      return { ...state,\n        numberCart: state.numberCart - quantity_,\n        Carts: state.Carts.filter(item => {\n          return item.id != state.Carts[action.payload].id;\n        })\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst ShoppingCart = combineReducers({\n  _todoProduct: todoProduct\n});\nexport default ShoppingCart;","map":{"version":3,"names":["combineReducers","GET_ALL_PRODUCT","GET_SIGEL_PRODUCT","GET_NUMBER_CART","ADD_CART","DECREASE_QUANTITY","INCREASE_QUANTITY","DELETE_CART","initProduct","numberCart","Carts","products","todoProduct","state","action","type","payload","cart","id","quantity","name","title","image","price","push","check","map","item","key","_cart","quantity_","filter","ShoppingCart","_todoProduct"],"sources":["/Users/phoolay2013/All_about_react/dev/react-shopping-cart/src/reducers/index.js"],"sourcesContent":["import { combineReducers } from 'redux';\r\nimport {GET_ALL_PRODUCT, GET_SIGEL_PRODUCT, GET_NUMBER_CART,ADD_CART, DECREASE_QUANTITY, INCREASE_QUANTITY, DELETE_CART} from  '../actions';\r\n\r\nconst initProduct = {\r\n    numberCart:0,\r\n    Carts:[],\r\n    products:[]\r\n}\r\n\r\nfunction todoProduct(state = initProduct,action){\r\n    switch(action.type){\r\n        case GET_ALL_PRODUCT: \r\n            return{\r\n                ...state,\r\n                products:action.payload\r\n            }\r\n        case GET_SIGEL_PRODUCT: \r\n            return{\r\n                ...state,\r\n                products:action.payload\r\n            }\r\n        case GET_NUMBER_CART:\r\n                return{\r\n                    ...state\r\n                }\r\n        case ADD_CART:\r\n            if(state.numberCart==0){\r\n                let cart = {\r\n                    id:action.payload.id,\r\n                    quantity:1,\r\n                    name:action.payload.title,\r\n                    image:action.payload.image,\r\n                    price:action.payload.price\r\n                } \r\n                state.Carts.push(cart); \r\n            }\r\n            else{\r\n                let check = false;\r\n                state.Carts.map((item,key)=>{\r\n                    if(item.id==action.payload.id){\r\n                        state.Carts[key].quantity++;\r\n                        check=true;\r\n                    }\r\n                });\r\n                if(!check){\r\n                    let _cart = {\r\n                        id:action.payload.id,\r\n                        quantity:1,\r\n                        name:action.payload.title,\r\n                        image:action.payload.image,\r\n                        price:action.payload.price\r\n                    }\r\n                    state.Carts.push(_cart);\r\n                }\r\n            }\r\n            return{\r\n                ...state,\r\n                numberCart:state.numberCart+1\r\n            }\r\n            case INCREASE_QUANTITY:\r\n                state.numberCart++\r\n                state.Carts[action.payload].quantity++;\r\n              \r\n               return{\r\n                   ...state\r\n               }\r\n            case DECREASE_QUANTITY:\r\n                let quantity = state.Carts[action.payload].quantity;\r\n                if(quantity>1){\r\n                    state.numberCart--;\r\n                    state.Carts[action.payload].quantity--;\r\n                }\r\n              \r\n                return{\r\n                    ...state\r\n                }\r\n            case DELETE_CART:\r\n                let quantity_ = state.Carts[action.payload].quantity;\r\n                return{\r\n                    ...state,\r\n                    numberCart:state.numberCart - quantity_,\r\n                    Carts:state.Carts.filter(item=>{\r\n                        return item.id!=state.Carts[action.payload].id\r\n                    })\r\n                   \r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst ShoppingCart = combineReducers({\r\n    _todoProduct:todoProduct\r\n});\r\nexport default ShoppingCart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}